---
title: Install and Manage Wavefront Proxies
tags: [proxies, best practice]
sidebar: doc_sidebar
permalink: proxies_installing.html
summary: Learn how to install and manage Wavefront proxies.
---
In most cases, a Wavefront proxy must be running in your installation before metrics begin streaming to Wavefront from a host or application.

We offer several [deployment options](proxies.html#proxy-deployment-options). During development, a single proxy is often sufficient for all data sources. In production, place a team of proxies behind a load balancer.


## Proxy Host Requirements

- Internet access - run `timeout 3s curl -fIsS <wavefront_api_url>` from the host and make sure you get a response and not a timeout.
- Networking -
  - By default, the proxy uses port 2878. Make sure this port is reachable from other machines on your network. You can change this default separately for different types of data (metrics, histograms, traces, etc.) in the [proxy configuration file](proxies_configuring.html). For example, use `traceListenerPorts` to specify where to listen to trace data.
  - For egress, ensure that port 443 is available.
- Memory - The proxy does not use a lot of CPU, memory, or storage. However, we recommend running the proxy on a host with at least 4GB of free memory.
- CPU - A standalone proxy can easily handle up to 40K PPS (points per second). If you're sending more, use [multiple proxies behind a load balancer](proxies.html#production-environment-team-of-proxies--load-balancer).
- Operating system - Wavefront proxy is a Java application and can run on operating systems supported by Java. Java 8 or later is required, the latest version of Java is recommended.
- Other - Maven 

<a name="single"></a>

## Install a Proxy

Many users install a proxy when they set up an integration. You can also install a proxy from the UI or perform a scripted installation.

{% include note.html content="In development, many customers use only one proxy that receives data from many applications and sends those data to the Wavefront service. In production, consider using two proxies behind a load balancer. See [Proxy Deployment Options](proxies.html#proxy-deployment-options)." %}

### Install a Proxy from the UI

To install and run a proxy:


1. Log in to your Wavefront instance and select **Browse > Proxies**.
1. Select **Add > New Proxy** at the top of the filter bar.
1. Click the **\[Linux \| Mac \| Windows \| Docker ]** tab.
1. (Windows Only) Download the proxy.
1. Copy the script and run it on your host.
    {% include note.html content="On Windows, do not run the installer `.exe` file. Run the script instead." %}
1. After the proxy contacts the Wavefront service, the proxy name displays under "Checking for new proxies...".
1. Click **Done**.
2. Select **Browse > Proxies** and verify that your proxy is listed.

The proxy starts listening on port 2878. You can customize listener ports with the [proxy configuration file](proxies_configuring.html).

### Scripted Proxy Installation

You can use steps in an integration or perform a package install.

* Select **Browse > Integrations** and find the host integration (Mac, Windows, or Linux). The **Setup** tab give the installation script. For Mac and Linux, you can install the proxy with or without the Telegraf agent.
* To perform a **package install**, see [Installing a Proxy manually](proxies_manual_install.html).

<a name="restart"></a>
## Manage Proxy Services

After installing a proxy, you can start and stop the proxy service, check service status, and view the logs that are generated by the service. See [Logging](proxies_configuring.html#logging) for customizing your proxy, including its log configuration options.

### Start and Stop a Proxy

Run the following commands on the proxy host:

<table style="width: 100%;">
<tbody>
<thead>
<tr><th width="20%">OS</th><th width="80%">Instructions</th></tr>
</thead>
<tr><td>Linux</td>
<td><code>service wavefront-proxy &lbrack;start | stop | restart&rbrack;</code></td></tr>
<tr>
<td markdown="span">Windows</td>
<td><code>
cd C:\Program Files (x86)\Wavefront\bin
.\nssm.exe [start | stop] WavefrontProxy
</code> </td></tr>

<tr><td>Mac OS</td>
<td><code>brew services [start | stop | restart] wfproxy</code></td></tr>
<tr><td>Docker</td>
<td><code>docker [start | stop ] &lt;proxy_container_id&gt;</code></td>
</tr>
</tbody>
</table>

### Check Proxy Service Status

To check if the proxy is running, run the following commands on the proxy host:

<table style="width: 100%;">
<tbody>
<thead>
<tr><th width="20%">OS</th><th width="80%">Instructions</th></tr>
</thead>
<tr><td>Linux</td>
<td><code>service wavefront-proxy status</code>
<p>Proxy log at <code>/var/log/wavefront/wavefront.log</code>.</p></td></tr>
<tr>
<td markdown="span">Windows</td>
<td><code>
cd C:\Program Files (x86)\Wavefront\bin
.\nssm.exe status WavefrontProxy</code>
<p>Proxy log at <code>Program Files (x86)\Wavefront\wavefront.log</code>.</p></td></tr>
<tr><td>Mac OS</td>
<td><code>brew services list</code>
<p>Proxy log at <code>/usr/local/var/log/wavefront/wavefront.log</code></p></td></tr>
</tbody>
</table>

<!---
- Linux

  ```shell
  $ service wavefront-proxy status
  ```
  You can view the proxy log at `/var/log/wavefront/wavefront.log`.
- Mac

  ```shell
  $ brew services list
  ```
  You can view the proxy log at `/usr/local/var/log/wavefront/wavefront.log`.

- Windows

  ```
  $ cd C:\Program Files (x86)\Wavefront\bin
  $ .\nssm.exe status WavefrontProxy
  ```
  You can view the proxy log at `Program Files (x86)\Wavefront\wavefront.log`.

- Docker

  ```
  $ docker ps
  ```
  To view the proxy log, run `docker logs <proxy_container_id>`.
--->

### Test a Proxy

You can test that a proxy is receiving and sending data as follows:

1. Send data by running the following command:

   ```shell
echo -e "test.metric 1 source=test_host\n" | nc <wavefront_proxy_address> 2878
   ```
   where `<wavefront_proxy_address>` is the address of your Wavefront proxy.
1. In the Wavefront UI, select **Browse > Metrics**.
1. In the Metrics field, type `test.metric`.
1. Click `test.metric` to display a chart of the metric.

### Upgrade a Proxy

Wavefront frequently releases new proxy versions with new features. See the [Wavefront proxy github page](https://github.com/wavefrontHQ/java/releases) for details.

{% include note.html content="Upgrading a proxy with a large proxy queue is not a good idea. The proxy will queue your data until the upgrade is complete, but the short-term result can be an even bigger proxy queue." %}

**Upgrade from the UI**

To upgrade from the UI, select **Browse > Proxies > Add New Proxy**. If an older version of the proxy exists, this process replaces it.

{% include note.html content="On Windows systems, you might have to uninstall the existing proxy first." %}

**Upgrade from the Command Line**

For Linux and Mac OS, can also upgrade a proxy from the command line as follows:

<table style="width: 100%;">
<tbody>
<thead>
<tr><th width="20%">OS</th><th width="80%">Instructions</th></tr>
</thead>
<tr><td>Linux</td>
<td><code>sudo apt-get update && sudo apt-get install wavefront-proxy</code></td></tr>
<tr>
<td markdown="span">Linux (RPM)</td>
<td><code>yum update wavefront-proxy
</code></td></tr>
<tr><td>Mac OS</td>
<td><code>brew update && brew upgrade wfproxy</code></td></tr>
</tbody>
</table>

### Uninstall a Proxy

When you upgrade a proxy, we uninstall the older version for you. You can also uninstall a proxy explicitly:

<table style="width: 100%;">
<tbody>
<thead>
<tr><th width="20%">OS</th><th width="80%">Instructions</th></tr>
</thead>
<tr>
<td markdown="span">Windows</td>
<td>The precise process depends on the version of Windows you're using. You follow the process for uninstalling programs. <ol><li>Click <strong>Start</strong>, and then click <strong>Control Panel</strong>.</li>
<li>Under Programs, click <strong>Uninstall a program</strong>.</li>
<li>Select <strong>Telegraf</strong> and click <strong>Uninstall</strong> at the top.</li>
<li>Select <strong>Wavefront Proxy</strong> and click <strong>Uninstall</strong> at the top.</li></ol></td></tr>
<tr><td>Linux</td>
<td><code>sudo apt-get remove wavefront-proxy
sudo apt-get remove telegraf</code></td></tr>
<tr><td>Linux (RPM)</td>
<td><code>sudo yum remove wavefront-proxy
sudo yum remove telegraf</code></td></tr>
<tr><td>Mac OS</td>
<td markdown="span">`bash -c "$(curl -s https://raw.githubusercontent.com/wavefrontHQ/homebrew-wavefront/master/sh/uninstall.sh)" `</td></tr>
</tbody>
</table>

## See Also

Advanced users can export proxy data to a file and perform other customizations.
* [Export Data Queued at the Proxy](https://help.wavefront.com/hc/en-us/articles/360052251811-How-to-export-data-queued-at-the-Proxy)
* [Install a Proxy in Non-Default Environments](proxies_manual_install.html)
* Use the [proxy configuration file](proxies_configuring.html) to customize proxy behavior for metrics, histograms, and traces.
